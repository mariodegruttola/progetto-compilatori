<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE ProgramOP SYSTEM "roles.dtd">
<ProgramOP>
    <ProcOp>
        <Identifier>printPeg</Identifier>
        <ParDeclOp>
            <Type>int</Type>
            <Identifier>peg</Identifier>
        </ParDeclOp>
        <ProcBodyOp>
            <IfOp>
                <EQOp>
                    <Identifier>peg</Identifier>
                    <IntConst>1</IntConst>
                </EQOp>
                <BodyOp>
                    <WriteOp>
                        <StringConst>"left"</StringConst>
                    </WriteOp>
                </BodyOp>
                <ElifOp>
                    <EQOp>
                        <Identifier>peg</Identifier>
                        <IntConst>2</IntConst>
                    </EQOp>
                    <BodyOp>
                        <WriteOp>
                            <StringConst>"center"</StringConst>
                        </WriteOp>
                    </BodyOp>
                </ElifOp>
                <BodyOp>
                    <WriteOp>
                        <StringConst>"right"</StringConst>
                    </WriteOp>
                </BodyOp>
            </IfOp>
        </ProcBodyOp>
    </ProcOp>
    <ProcOp>
        <Identifier>hanoi</Identifier>
        <ParDeclOp>
            <Type>int</Type>
            <Identifier>n</Identifier>
            <Identifier>fromPeg</Identifier>
            <Identifier>usingPeg</Identifier>
            <Identifier>toPeg</Identifier>
        </ParDeclOp>
        <ProcBodyOp>
            <IfOp>
                <NEOp>
                    <Identifier>n</Identifier>
                    <IntConst>0</IntConst>
                </NEOp>
                <BodyOp>
                    <CallProcOp>
                        <Identifier>hanoi</Identifier>
                        <DiffOp>
                            <Identifier>n</Identifier>
                            <IntConst>1</IntConst>
                        </DiffOp>
                        <Identifier>fromPeg</Identifier>
                        <Identifier>toPeg</Identifier>
                        <Identifier>usingPeg</Identifier>
                    </CallProcOp>
                    <WriteOp>
                        <StringConst>"Move disk from "</StringConst>
                    </WriteOp>
                    <CallProcOp>
                        <Identifier>printPeg</Identifier>
                        <Identifier>fromPeg</Identifier>
                    </CallProcOp>
                    <WriteOp>
                        <StringConst>" peg to "</StringConst>
                    </WriteOp>
                    <CallProcOp>
                        <Identifier>printPeg</Identifier>
                        <Identifier>toPeg</Identifier>
                    </CallProcOp>
                    <WriteOp>
                        <StringConst>" peg.\n"</StringConst>
                    </WriteOp>
                    <CallProcOp>
                        <Identifier>hanoi</Identifier>
                        <DiffOp>
                            <Identifier>n</Identifier>
                            <IntConst>1</IntConst>
                        </DiffOp>
                        <Identifier>usingPeg</Identifier>
                        <Identifier>fromPeg</Identifier>
                        <Identifier>toPeg</Identifier>
                    </CallProcOp>
                </BodyOp>
            </IfOp>
        </ProcBodyOp>
    </ProcOp>
    <ProcOp>
        <Identifier>main</Identifier>
        <ProcBodyOp>
            <VarDeclOp>
                <Type>int</Type>
                <IdInitOp>
                    <Identifier>n</Identifier>
                    <IntConst>0</IntConst>
                </IdInitOp>
            </VarDeclOp>
            <WriteOp>
                <StringConst>"How many pegs? "</StringConst>
            </WriteOp>
            <ReadOp>
                <Identifier>n</Identifier>
            </ReadOp>
            <CallProcOp>
                <Identifier>hanoi</Identifier>
                <Identifier>n</Identifier>
                <IntConst>1</IntConst>
                <IntConst>2</IntConst>
                <IntConst>3</IntConst>
            </CallProcOp>
        </ProcBodyOp>
    </ProcOp>
</ProgramOP>
